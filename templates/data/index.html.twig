{% extends 'template.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block main %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="bgc-white bd bdrs-3 p-20 mB-20">
                    <h4 class="c-grey-900 mB-20">Jobs</h4>
                    <table id="dataTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                        <thead>
                        <tr>
                            <th>Job</th>
                            <th>Patterns (type, parameters)</th>
                        </tr>
                        </thead>
                        <tfoot>
                        <tr>
                            <th>Job</th>
                            <th>Patterns (type, parameters)</th>
                        </tr>
                        </tfoot>
                        <tbody>
                        {% for job in jobs %}
                            <tr>
                                <td>{{ job.name }}</td>
                                <td>
                                    <table>
                                    {% for pattern in job.patterns %}
                                        <tr>
                                            <td colspan="3">Type: {{ pattern.type }}</td>
                                        </tr>
                                            {% for parameter in pattern.parameters %}
                                                <tr>
                                                    <td>param: {{ parameter['name'] }}</td>
                                                    <td>req.: {{ parameter['min'] ~ '-' ~ parameter['max'] }}</td>
                                                    <td>scale: {{ parameter['range_low'] ~ '-' ~ parameter['range_high'] }}</td>
                                                </tr>
                                            {% endfor %}
                                    {% endfor %}
                                    </table>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
